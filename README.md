# 微信运动步数自动更新工具

## 功能说明

这个工具可以自动更新微信运动步数，模拟真实的运动轨迹。

## 时间表

| 时间  | 累计步数比 |
| ----- | ---------- |
| 7:30  | 0          |
| 8:30  | 0.2        |
| 11:50 | 0.3        |
| 13:00 | 0.4        |
| 14:00 | 0.45       |
| 14:40 | 0.55       |
| 17:30 | 0.7        |
| 19:00 | 0.8        |
| 21:30 | 0.85       |
| 22:30 | 0.95       |
| 23:30 | 1.0        |

## 配置文件 (.env)

```
email=你的邮箱
password=你的密码
total_step=7000    # 每日目标步数，默认7000
delta=0.2          # 随机偏差系数，默认0.2
```

## 使用方法

### 1. 安装依赖

```bash
pip install -r requirements.txt
```

### 2. 手动设置步数

```bash
python set_step.py 10000
```

### 3. 自动更新步数

```bash
python autosport.py
```

自动模式会：
- 根据时间表自动计算预期步数
- 为每分钟生成随机步数计划（添加随机性使步数更自然）
- 确保步数只增不减
- 每分钟检查一次并更新
- 每天0点重新生成随机步数计划

按 `Ctrl+C` 停止自动更新。

### 4. 调试模式

```bash
python autosport.py --dryrun
```

调试模式会：
- 生成当天的步数计划但不实际更新步数
- 显示步数随时间变化的图表
- 用于验证步数计划是否符合预期

## 文件说明

- `set_step.py`: 手动设置步数的脚本
- `autosport.py`: 自动更新步数的主脚本
- `utils.py`: 共用工具函数
- `requirements.txt`: Python依赖包
- `.env`: 配置文件（需要自己创建）

## autosport.py 工作原理

1. 读取 `.env` 配置文件中的 `total_step` 和 `delta` 参数
2. 根据时间表计算一天中每分钟的预期步数
3. 为每分钟的步数添加随机负偏差（由 `delta` 参数控制）
4. 确保步数只增不减
5. 每分钟检查当前时间并更新相应的步数
6. 每天0点重新生成随机步数计划

## 参数说明

- `total_step`: 每日目标步数，默认值为 7000
- `delta`: 随机偏差系数，控制步数的随机性，默认值为 0.2（即±20%的偏差）

